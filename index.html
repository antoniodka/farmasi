<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catálogo Completo - Mi Belleza Natural</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-image: url('https://img.freepik.com/fotos-premium/productos-cosmeticos-maquillaje-sobre-fondo-rosa-sombra-lapiz-labial-crema-pinceles-imagen-plana-espacio-copia_1040174-1741.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }
    main, header, footer {
      background-color: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(4px);
    }
  </style>
</head>
<body class="text-gray-800 font-sans">
  <header class="shadow p-4">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-2xl font-bold text-pink-600">Mi Belleza Natural</h1>
    </div>
  </header>
  <main class="container mx-auto px-4 py-8">
    <div id="contenedor-secciones">
      <h2 class="text-3xl font-bold text-center text-pink-700 mb-6"><a href="https://wa.me/573137832315" >CONTÁCTANOS | CATÁLOGO FARMASI</a></h2>
    </div>
  </main>
  <footer class="text-center p-6 mt-12">
    <p class="text-gray-500">&copy; 2025 Mi Belleza Natural PRODUCTOS FARMASI. Contáctanos por <a href="https://wa.me/573137832315" class="text-pink-500 underline">WhatsApp</a></p>
  </footer>

  <script>
    let scrollY = 0;
    let lastSectionId = null;

    function toggleSection(id) {
      document.querySelectorAll('#contenedor-secciones > div > div').forEach(section => {
        if (section.id !== id && !section.classList.contains("hidden")) {
          section.classList.add("hidden");
        }
      });
      const section = document.getElementById(id);
      if (section) {
        section.classList.toggle("hidden");
        if (!section.classList.contains("hidden")) {
          lastSectionId = id;
          history.pushState({ sectionOpen: id }, "");
        }
      }
    }

    function openFullscreenMedia(type, url) {
      scrollY = window.scrollY;
      history.pushState({ fullscreen: true }, "");

      const overlay = document.createElement("div");
      overlay.id = "fullscreen-overlay";
      overlay.className = "fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 flex-col p-4";

      const message = document.createElement("p");
      message.className = "text-white text-sm mb-2 italic";
      message.innerText = "Con el botón retroceder puedes cerrar el video";

      const content = document.createElement("div");
      content.className = "relative w-full max-w-4xl max-h-[90vh]";

      const closeBtn = document.createElement("button");
      closeBtn.innerText = '✕';
      closeBtn.className = "absolute top-2 right-2 text-white text-xl bg-black bg-opacity-50 p-2 rounded-full";
      closeBtn.onclick = closeFullscreenMedia;

      const media = type === 'video'
        ? Object.assign(document.createElement('iframe'), {
            src: url,
            allow: "autoplay; encrypted-media",
            frameborder: "0",
            allowfullscreen: true,
            className: "w-full h-[60vh] rounded-xl"
          })
        : Object.assign(document.createElement('img'), { src: url, className: "w-full h-auto rounded-xl" });

      content.appendChild(closeBtn);
      content.appendChild(media);
      overlay.appendChild(message);
      overlay.appendChild(content);
      document.body.appendChild(overlay);
    }

    function closeFullscreenMedia() {
      const overlay = document.getElementById("fullscreen-overlay");
      if (overlay) {
        overlay.remove();
        window.scrollTo(0, scrollY);
        history.back();
      }
    }

    window.addEventListener("popstate", (event) => {
      if (document.getElementById("fullscreen-overlay")) {
        closeFullscreenMedia();
      } else if (event.state && event.state.sectionOpen) {
        toggleSection(event.state.sectionOpen);
      } else {
        document.querySelectorAll('#contenedor-secciones > div > div').forEach(section => section.classList.add("hidden"));
      }
    });

    const categorias = [
      { nombre: "Colombia Specials", imagen: "https://cdnx.jumpseller.com/toniytanacom/image/25586426/resize/1080/1120?1657220035", link: "https://www.co.farmasi.com/danielalopez72/products/productos/colombia-specials?cid=4986eb4c-cd0b-ee11-83b4-000d3a71539d" },
      { nombre: "Maquillaje", imagen: "https://i.pinimg.com/736x/d9/24/f3/d924f3feef56d5642ec8158cbb92ecc8.jpg", link: "https://www.co.farmasi.com/danielalopez72/products/productos/maquillaje?cid=2bf65b5e-60d3-eb11-a315-005056010963" },
      { nombre: "Cuidado de Piel", imagen: "https://cdn-cinfasalud.cinfa.com/wp-content/uploads/2014/09/Piel1.jpg?x64172", link: "https://www.co.farmasi.com/danielalopez72/products/productos/cuidado-de-piel?cid=5aecb19a-63d3-eb11-a315-005056010963" },
      { nombre: "Nutrición", imagen: "https://resources.claroshop.com/medios-plazavip/mkt/6260c779aa8db_nutriplus-caf-mezcla-de-achicoriajpg.jpg?scale=500&qlty=75", link: "https://www.co.farmasi.com/danielalopez72/products/productos/nutrici%C3%B3n?cid=36f6d965-66d3-eb11-a315-005056010963" },
      { nombre: "Cuidado Personal", imagen: "https://www.protex-soap.com/content/dam/cp-sites/personal-care/protex-relaunch/global/articles/benefits-for-the-skin.jpg", link: "https://www.co.farmasi.com/danielalopez72/products/productos/cuidado-personal?cid=2b99ca57-65d3-eb11-a315-005056010963" },
      { nombre: "Cabello", imagen: "https://media.istockphoto.com/id/896422106/es/foto/j%C3%B3venes-marr%C3%B3n-pelo-hermosa-modelo-con-el-pelo-largo-recto-bien-cuidado-es-tocar-pelo-propio.jpg?s=612x612&w=0&k=20&c=qYMpA0_atR-5ZZkFLwEVrCN__7JrVqeYqmbQTJp3mQ8=", link: "https://www.co.farmasi.com/danielalopez72/products/productos/cabello?cid=020e6efe-64d3-eb11-a315-005056010963" },
      { nombre: "Hombres", imagen: "https://vanidad.es/wp-content/uploads/2024/11/151347_captura_de_pantalla_2019-12-04_a_las_12.56.57.jpg", link: "https://www.co.farmasi.com/danielalopez72/products/productos/hombres?cid=cf171d76-66d3-eb11-a315-005056010963" }
    ];

    document.addEventListener("DOMContentLoaded", () => {
      const main = document.getElementById("contenedor-secciones");
      categorias.forEach(({ nombre, imagen, link }) => {
        const id = nombre.toLowerCase().replace(/[^a-z0-9]/g, "-");
        const bloque = document.createElement("div");
        bloque.className = "mb-4";

        const onClickAttr = link
          ? `onclick=\"window.open('${link}', '_blank')\"`
          : `onclick=\"toggleSection('${id}')\"`;

        bloque.innerHTML = `
          <div ${onClickAttr} class="cursor-pointer bg-gradient-to-r from-white via-pink-50 to-gray-100 hover:from-pink-100 hover:to-white transition rounded-2xl shadow-xl p-4 flex items-center space-x-4 mb-4 border border-pink-200">
            <img src="${imagen}" alt="${nombre}" class="w-20 h-20 object-cover rounded-full shadow border border-gray-300">
            <div>
              <h3 class="text-lg font-bold text-gray-800">${nombre}</h3>
              <p class="text-sm text-pink-500">Explora nuestra colección</p>
            </div>
          </div>
        `;

        main.appendChild(bloque);
      });
    });
  </script>
</body>
</html>
